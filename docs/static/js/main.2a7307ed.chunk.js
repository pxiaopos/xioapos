(window.webpackJsonpxiaopos=window.webpackJsonpxiaopos||[]).push([[0],{18:function(e,t,a){e.exports={menuContainer:"Order_menuContainer__1q_zS",container:"Order_container__eKvd1",sum:"Order_sum__1k3kh",item:"Order_item__3HHoQ",box:"Order_box__3F8p9",btn:"Order_btn__3vqfM"}},80:function(e,t,a){e.exports=a(98)},90:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"add",function(){return Y});var r={};a.r(r),a.d(r,"load",function(){return $});var c={};a.r(c),a.d(c,"add",function(){return ke}),a.d(c,"load",function(){return xe});var o=a(0),i=a.n(o),l=a(10),u=a(61),s=a(36),m=(a(90),a(32)),p=a(33),d=a(38),f=a(34),b=a(39),h=a(28),O=a(29),v=a(73),y=a.n(v),E=a(74),g=a.n(E),j=a(148),w=a(147),k=a(143),x=a(151),_=a(152),S=a(150),P=a(144),N=a(153),D=a(146),C=a(145),z=a(149),B=a(54),I=a(7),M=a(47),T=a(53),J=a.n(T),F=a(14),H=a(71),W=a(100);function A(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return e.getFullYear()+"/"+a+"/"+t}var K=Object(H.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function R(e){var t=K();return i.a.createElement(W.a,{className:t.root},i.a.createElement(B.a,{variant:"h5",component:"h3"},"\u5c0f\u8a18 - ",A()),i.a.createElement(B.a,{component:"p",color:"textSecondary"},"\u7e3d\u91d1\u984d: ",e.sum," \u5143"))}var U={item:{add:"ADD_ITEM"},history:{load:"LOAD_HISTORY",update:"UPDATE_HISTORY"}},Y=function(e){return{type:U.item.add,payload:e}},$=function(){return{type:U.history.load}},q={item:n,history:r},L=a(18),G=a.n(L),Q={list:[{item:"\u6c34\u98df\u852c\u9910\u76d2\uff08\u7d20\uff09",price:65},{item:"\u59d1\u59d1\u9bae\u852c\u9910\uff08\u7d20\uff09",price:80},{item:"\u8ff7\u8fed\u9999\u5ae9\u96de\u80f8",price:90},{item:"\u9ed1\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:90},{item:"\u6e05\u9999\u6ef7\u96de\u817f",price:95},{item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:100},{item:"\u85e5\u81b3\u71c9\u96de\u817f",price:105},{item:"\u5bb6\u9109\u6ef7\u725b\u8171",price:120},{item:"\u7fa9\u5f0f\u70e4\u96de\u817f\u6392",price:120},{item:"\u8ff7\u8fed\u9999\u96de\u80f8",price:45},{item:"\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:45},{item:"\u6ef7\u96de\u817f",price:45},{item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:50},{item:"\u85e5\u81b3\u96de\u817f",price:50},{item:"\u6ef7\u725b\u8171",price:60},{item:"\u6c34\u716e\u86cb",price:10},{item:"\u5341\u7a40\u7c73",price:15},{item:"\u852c\u83dc",price:45}]},X="cache_"+A(),V=function(e,t){return e+t},Z=function(e,t,a){var n=Object.assign({},e);return n[t]||(n[t]=0),n[t]=n[t]+a,n},ee=function(e){function t(e){var a;if(Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).Count=function(e,t,n){var r=a.state,c=r.counter,o=r.sum,i=0===o,l=n<0,u=-1===t,s=c&&(0===c[e]||void 0===c[e]);i&&l||u&&s||a.setState({counter:Z(c,e,t),sum:V(o,n)})},a.state={counter:{},sum:0},localStorage.hasOwnProperty(X)){var n=localStorage.getItem(X);a.state=JSON.parse(n)}return a.Count=a.Count.bind(Object(M.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state!==t&&localStorage.setItem(X,JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.state,a=t.counter,n=t.sum;return i.a.createElement("div",null,i.a.createElement(R,{sum:n}),i.a.createElement("div",{className:G.a.menuContainer},Q.list.map(function(t,n){return i.a.createElement("div",{key:n},i.a.createElement("div",{className:G.a.container},i.a.createElement("p",{className:J()(G.a.box,G.a.item)},t.item),i.a.createElement("p",{className:G.a.box},t.price),i.a.createElement("p",{className:G.a.box},"\u76ee\u524d\u6578\u91cf ",a[n]||0)),i.a.createElement("div",{className:G.a.container,key:n},i.a.createElement("p",{className:J()(G.a.box,G.a.btn),onClick:function(a){e.Count(n,-1,-t.price)}},"-"),i.a.createElement("p",{className:J()(G.a.box,G.a.btn),onClick:function(a){e.Count(n,1,t.price)}},"+")))})))}}]),t}(o.PureComponent),te=Object(F.d)(Object(s.b)(function(e){return{item:e.item}},function(e){return{add:function(t){return e(q.item.add(t))}}}))(ee),ae=a(140),ne=a(142),re=a(138),ce=a(141),oe=a(139);var ie=Object(I.a)(function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white},body:{fontSize:14}}})(re.a),le=Object(I.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(oe.a),ue=Object(H.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}});function se(e){var t=ue();return i.a.createElement(W.a,{className:t.root},i.a.createElement(ae.a,{className:t.table},i.a.createElement(ce.a,null,i.a.createElement(oe.a,null,i.a.createElement(ie,null,"\u65e5\u671f"),Q.list.map(function(e,t){return i.a.createElement(ie,{key:t,align:"right"},e.item)}),i.a.createElement(ie,null,"\u7e3d\u91d1\u984d"))),i.a.createElement(ne.a,null,e.data.map(function(e,t){return i.a.createElement(le,{key:"".concat(e.data,"_").concat(t)},i.a.createElement(ie,null,e.date),Q.list.map(function(a,n){return i.a.createElement(ie,{key:"".concat(e.date,"_").concat(t,"_").concat(n)},e.list.counter[t]?e.list.counter[t]:0)}),i.a.createElement(ie,null,function(e){for(var t=e.toString(),a=/(-?\d+)(\d{3})/;a.test(t);)t=t.replace(a,"$1,$2");return t}(e.list.sum)))}))))}var me=Object(H.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function pe(e){var t=me();return i.a.createElement(W.a,{className:t.root},i.a.createElement(B.a,{variant:"h5",component:"h3"},"\u5132\u5b58\u7a7a\u9593"),i.a.createElement(B.a,{component:"p",color:"textSecondary"},"Size: ",e.size))}var de=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"render",value:function(){var e=this.props.history;return i.a.createElement(i.a.Fragment,null,i.a.createElement(pe,{size:e.size}),i.a.createElement(se,{data:e.data}))}}]),t}(o.Component),fe=Object(F.d)(Object(s.b)(function(e){return{history:e.history}},function(e){return{load:function(){return e(q.history.load())}}}))(de),be=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.container,a=e.classes,n=e.history,r=i.a.createElement("div",null,i.a.createElement("div",{className:a.toolbar}),i.a.createElement(k.a,null),i.a.createElement(P.a,null,[{name:"order",icon:function(){return i.a.createElement(y.a,null)}},{name:"history",icon:function(){return i.a.createElement(g.a,null)}}].map(function(e,t){return i.a.createElement(N.a,{button:!0,key:e.name},i.a.createElement(C.a,null,e.icon()),i.a.createElement(D.a,{onClick:function(){n.replace("/".concat(e.name))},primary:e.name}))})),i.a.createElement(k.a,null)),c=this.props.match.path===this.props.location.pathname;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:a.root},i.a.createElement(w.a,null),i.a.createElement(j.a,{position:"fixed",className:a.appBar},i.a.createElement(z.a,null,i.a.createElement(S.a,{color:"inherit","aria-label":"open drawer",edge:"start",className:a.menuButton}),i.a.createElement(B.a,{variant:"h6",noWrap:!0},"\u6c34\u98df"))),i.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},i.a.createElement(_.a,{smUp:!0,implementation:"css"},i.a.createElement(x.a,{container:t,variant:"temporary",anchor:"left",classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},r)),i.a.createElement(_.a,{xsDown:!0,implementation:"css"},i.a.createElement(x.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},r))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(O.d,null,c&&i.a.createElement(O.a,{from:"/",to:"/order"}),i.a.createElement(O.b,{path:"/order",render:function(e){return i.a.createElement(te,e)}}),i.a.createElement(O.b,{path:"/history",render:function(e){return i.a.createElement(fe,e)}})))))}}]),t}(o.Component),he=Object(O.g)(Object(I.a)(function(e){return{root:{display:"flex"},drawer:Object(h.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(h.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(h.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})(be));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var Oe=a(77),ve=a(31),ye=a.n(ve),Ee=a(44),ge=(a(96),function(e){var t,a=[];for(t in localStorage)if(localStorage.hasOwnProperty(t)&&(t.match(e)||!e&&"string"===typeof t)){var n=JSON.parse(localStorage.getItem(t)),r=t.substring(6);a.push({timestamp:new Date(r).getTime(),date:r,list:n})}return a}),je=function(){var e="";for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=window.localStorage[t]);return e?3+16*e.length/8192+" KB":"Empty (0 KB)"},we=function(e){for(var t=e.length,a=0;a<t;a++){for(var n=e[a].timestamp,r=a,c=a;c<t;c++)e[c].timestamp<n&&(n=e[c].timestamp,r=c);var o=[e[a],e[r]];e[r]=o[0],e[a]=o[1]}return e},ke=function(e){console.log("payload",e)},xe=function(){return{data:we(ge("cache_*")),size:je()}};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Se=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},c),Pe=ye.a.mark(Ce),Ne=ye.a.mark(ze),De=ye.a.mark(Be);function Ce(e){return ye.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Se.add(e);case 2:case"end":return t.stop()}},Pe)}function ze(e){var t;return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Se.load();case 2:return t=e.sent,e.next=5,Object(Ee.b)({type:U.history.update,res:t});case 5:case"end":return e.stop()}},Ne)}function Be(){return ye.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Ee.a)([Object(Ee.c)(U.item.add,Ce),Object(Ee.c)(U.history.load,ze)]);case 2:case"end":return e.stop()}},De)}var Ie=a(65),Me={h:"abc"},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Me,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.item.increase:case U.item.decrease:return Object(Ie.assign)({},e,{});default:return e}};function Je(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Fe(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Je(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Je(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var He={data:[],size:""},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:He,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case U.history.update:return Fe({},e,{},t.res);default:return e}},Ae=Object(F.c)({item:Te,history:We}),Ke=Object(Oe.a)(),Re=Object(F.e)(Ae,Object(F.a)(Ke));Ke.run(Be);var Ue=Re;Object(l.render)(i.a.createElement(u.a,null,i.a.createElement(s.a,{store:Ue},i.a.createElement(he,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[80,1,2]]]);
//# sourceMappingURL=main.2a7307ed.chunk.js.map