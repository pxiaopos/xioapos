(window.webpackJsonpxiaopos=window.webpackJsonpxiaopos||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"add",function(){return V});var r={};a.r(r),a.d(r,"load",function(){return Z});var c={};a.r(c),a.d(c,"add",function(){return Ce}),a.d(c,"load",function(){return ze});var o=a(0),i=a.n(o),l=a(10),u=a(60),s=a(35),m=(a(92),a(31)),p=a(32),d=a(37),f=a(33),b=a(38),h=a(27),O=a(28),v=a(75),E=a.n(v),y=a(76),g=a.n(y),j=a(155),w=a(154),k=a(150),x=a(158),S=a(159),_=a(157),P=a(151),N=a(160),D=a(153),C=a(152),z=a(156),B=a(56),I=a(7),M=a(50),T=a(14),J=a(70),F=a(102);function H(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return e.getFullYear()+"/"+a+"/"+t}var W=Object(J.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function A(e){var t=W();return i.a.createElement(F.a,{className:t.root},i.a.createElement(B.a,{variant:"h5",component:"h3"},"\u5c0f\u8a18 - ",H()),i.a.createElement(B.a,{component:"p",color:"textSecondary"},"\u7e3d\u91d1\u984d: ",e.sum," \u5143"))}var K=a(142),R=a(143),U=a(144),Y=a(73),$=a.n(Y),q=a(72),L=a.n(q),G=Object(J.a)(function(e){return{root:{display:"flex",flex:1,padding:e.spacing(3,2),margin:10,width:450},details:{display:"flex",flexDirection:"row",width:300},content:{flex:"1 0 auto"},cover:{width:150}}});function Q(e){var t=e.count,a=e.id,n=e.num,r=e.v,c=r.item,o=r.price,l=G();return i.a.createElement(F.a,{className:l.root},i.a.createElement("div",{className:l.details},i.a.createElement(K.a,{className:l.content},i.a.createElement(B.a,{variant:"h5",component:"h3"},c),i.a.createElement(B.a,{component:"p"},"\u91d1\u984d ",o," - \u76ee\u524d\u6578\u91cf ",n||0))),i.a.createElement("div",{className:l.cover},i.a.createElement(R.a,{className:l.content},i.a.createElement(U.a,{fontSize:"small","aria-label":"remove",onClick:function(e){return t(a,-1,-o)}},i.a.createElement(L.a,null)),i.a.createElement(U.a,{fontSize:"small","aria-label":"add",onClick:function(e){return t(a,1,o)}},i.a.createElement($.a,null)))))}var X={item:{add:"ADD_ITEM"},history:{load:"LOAD_HISTORY",update:"UPDATE_HISTORY"}},V=function(e){return{type:X.item.add,payload:e}},Z=function(){return{type:X.history.load}},ee={item:n,history:r},te=a(74),ae=a.n(te),ne={list:[{item:"\u6c34\u98df\u852c\u9910\u76d2\uff08\u7d20\uff09",price:65},{item:"\u59d1\u59d1\u9bae\u852c\u9910\uff08\u7d20\uff09",price:80},{item:"\u8ff7\u8fed\u9999\u5ae9\u96de\u80f8",price:90},{item:"\u9ed1\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:90},{item:"\u6e05\u9999\u6ef7\u96de\u817f",price:95},{item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:100},{item:"\u85e5\u81b3\u71c9\u96de\u817f",price:105},{item:"\u5bb6\u9109\u6ef7\u725b\u8171",price:120},{item:"\u7fa9\u5f0f\u70e4\u96de\u817f\u6392",price:120},{item:"\u79d8\u88fd\u9e79\u8c6c\u8089",price:110},{item:"\u8ff7\u8fed\u9999\u96de\u80f8",price:45},{item:"\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:45},{item:"\u6ef7\u96de\u817f",price:45},{item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:50},{item:"\u85e5\u81b3\u96de\u817f",price:50},{item:"\u6ef7\u725b\u8171",price:60},{item:"\u6c34\u716e\u86cb",price:10},{item:"\u5341\u7a40\u7c73",price:15},{item:"\u852c\u83dc",price:45}]},re="cache_"+H(),ce=function(e,t){return e+t},oe=function(e,t,a){var n=Object.assign({},e);return n[t]||(n[t]=0),n[t]=n[t]+a,n},ie=function(e){function t(e){var a;if(Object(m.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).Count=function(e,t,n){var r=a.state,c=r.counter,o=r.sum,i=0===o,l=n<0,u=-1===t,s=c&&(0===c[e]||void 0===c[e]);i&&l||u&&s||a.setState({counter:oe(c,e,t),sum:ce(o,n)})},a.state={counter:{},sum:0},localStorage.hasOwnProperty(re)){var n=localStorage.getItem(re);a.state=JSON.parse(n)}return a.Count=a.Count.bind(Object(M.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state!==t&&localStorage.setItem(re,JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.state,a=t.counter,n=t.sum;return i.a.createElement("div",null,i.a.createElement(A,{sum:n}),i.a.createElement("div",{className:ae.a.menuContainer},ne.list.map(function(t,n){return i.a.createElement(Q,{key:n,count:e.Count,id:n,v:t,num:a[n]})})))}}]),t}(o.PureComponent),le=Object(T.d)(Object(s.b)(function(e){return{item:e.item}},function(e){return{add:function(t){return e(ee.item.add(t))}}}))(ie),ue=a(147),se=a(149),me=a(145),pe=a(148),de=a(146);var fe=Object(I.a)(function(e){return{head:{backgroundColor:e.palette.primary.light,color:e.palette.common.white},body:{fontSize:14}}})(me.a),be=Object(I.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(de.a),he=Object(J.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700}}});function Oe(e){var t=he();return i.a.createElement(F.a,{className:t.root},i.a.createElement(ue.a,{className:t.table},i.a.createElement(pe.a,null,i.a.createElement(de.a,null,i.a.createElement(fe,null,"\u65e5\u671f"),ne.list.map(function(e,t){return i.a.createElement(fe,{key:t,align:"right"},e.item)}),i.a.createElement(fe,null,"\u7e3d\u91d1\u984d"))),i.a.createElement(se.a,null,e.data.map(function(e,t){return i.a.createElement(be,{key:"".concat(e.data,"_").concat(t)},i.a.createElement(fe,null,e.date),ne.list.map(function(a,n){return i.a.createElement(fe,{key:"".concat(e.date,"_").concat(t,"_").concat(n)},e.list.counter[n]?e.list.counter[n]:0)}),i.a.createElement(fe,null,function(e){for(var t=e.toString(),a=/(-?\d+)(\d{3})/;a.test(t);)t=t.replace(a,"$1,$2");return t}(e.list.sum)))}))))}var ve=Object(J.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function Ee(e){var t=ve();return i.a.createElement(F.a,{className:t.root},i.a.createElement(B.a,{variant:"h5",component:"h3"},"\u5132\u5b58\u7a7a\u9593"),i.a.createElement(B.a,{component:"p",color:"textSecondary"},"Size: ",e.size))}var ye=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"render",value:function(){var e=this.props.history;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Ee,{size:e.size}),i.a.createElement(Oe,{data:e.data}))}}]),t}(o.Component),ge=Object(T.d)(Object(s.b)(function(e){return{history:e.history}},function(e){return{load:function(){return e(ee.history.load())}}}))(ye),je=function(e){function t(){return Object(m.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.container,a=e.classes,n=e.history,r=i.a.createElement("div",null,i.a.createElement("div",{className:a.toolbar}),i.a.createElement(k.a,null),i.a.createElement(P.a,null,[{name:"order",icon:function(){return i.a.createElement(E.a,null)}},{name:"history",icon:function(){return i.a.createElement(g.a,null)}}].map(function(e,t){return i.a.createElement(N.a,{button:!0,key:e.name},i.a.createElement(C.a,null,e.icon()),i.a.createElement(D.a,{onClick:function(){n.replace("/".concat(e.name))},primary:e.name}))})),i.a.createElement(k.a,null)),c=this.props.match.path===this.props.location.pathname;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:a.root},i.a.createElement(w.a,null),i.a.createElement(j.a,{position:"fixed",className:a.appBar},i.a.createElement(z.a,null,i.a.createElement(_.a,{color:"inherit","aria-label":"open drawer",edge:"start",className:a.menuButton}),i.a.createElement(B.a,{variant:"h6",noWrap:!0},"\u6c34\u98df"))),i.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},i.a.createElement(S.a,{smUp:!0,implementation:"css"},i.a.createElement(x.a,{container:t,variant:"temporary",anchor:"left",classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},r)),i.a.createElement(S.a,{xsDown:!0,implementation:"css"},i.a.createElement(x.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},r))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(O.d,null,c&&i.a.createElement(O.a,{from:"/",to:"/order"}),i.a.createElement(O.b,{path:"/order",render:function(e){return i.a.createElement(le,e)}}),i.a.createElement(O.b,{path:"/history",render:function(e){return i.a.createElement(ge,e)}})))))}}]),t}(o.Component),we=Object(O.g)(Object(I.a)(function(e){return{root:{display:"flex"},drawer:Object(h.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(h.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(h.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})(je));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var ke=a(79),xe=a(30),Se=a.n(xe),_e=a(45),Pe=(a(98),function(e){var t,a=[];for(t in localStorage)if(localStorage.hasOwnProperty(t)&&(t.match(e)||!e&&"string"===typeof t)){var n=JSON.parse(localStorage.getItem(t)),r=t.substring(6);a.push({timestamp:new Date(r).getTime(),date:r,list:n})}return a}),Ne=function(){var e="";for(var t in window.localStorage)window.localStorage.hasOwnProperty(t)&&(e+=window.localStorage[t]);return e?3+16*e.length/8192+" KB":"Empty (0 KB)"},De=function(e){for(var t=e.length,a=0;a<t;a++){for(var n=e[a].timestamp,r=a,c=a;c<t;c++)e[c].timestamp<n&&(n=e[c].timestamp,r=c);var o=[e[a],e[r]];e[r]=o[0],e[a]=o[1]}return e},Ce=function(e){console.log("payload",e)},ze=function(){return{data:De(Pe("cache_*")),size:Ne()}};function Be(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ie=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Be(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Be(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},c),Me=Se.a.mark(Fe),Te=Se.a.mark(He),Je=Se.a.mark(We);function Fe(e){return Se.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie.add(e);case 2:case"end":return t.stop()}},Me)}function He(e){var t;return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.load();case 2:return t=e.sent,e.next=5,Object(_e.b)({type:X.history.update,res:t});case 5:case"end":return e.stop()}},Te)}function We(){return Se.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(_e.a)([Object(_e.c)(X.item.add,Fe),Object(_e.c)(X.history.load,He)]);case 2:case"end":return e.stop()}},Je)}var Ae=a(64),Ke={h:"abc"},Re=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.item.increase:case X.item.decrease:return Object(Ae.assign)({},e,{});default:return e}};function Ue(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function Ye(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ue(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ue(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var $e={data:[],size:""},qe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$e,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X.history.update:return Ye({},e,{},t.res);default:return e}},Le=Object(T.c)({item:Re,history:qe}),Ge=Object(ke.a)(),Qe=Object(T.e)(Le,Object(T.a)(Ge));Ge.run(We);var Xe=Qe;Object(l.render)(i.a.createElement(u.a,null,i.a.createElement(s.a,{store:Xe},i.a.createElement(we,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},74:function(e,t,a){e.exports={menuContainer:"Order_menuContainer__1q_zS",container:"Order_container__eKvd1",sum:"Order_sum__1k3kh",item:"Order_item__3HHoQ",box:"Order_box__3F8p9",btn:"Order_btn__3vqfM"}},82:function(e,t,a){e.exports=a(100)},92:function(e,t,a){}},[[82,1,2]]]);
//# sourceMappingURL=main.2028f4e8.chunk.js.map