{"version":3,"sources":["core/utilities/time.js","components/Totaling.js","components/Meal.js","core/redux/actions/consts/item.js","core/redux/actions/consts/index.js","core/redux/actions/consts/history.js","core/redux/actions/item.js","core/redux/actions/history.js","core/redux/actions/index.js","configs/menu.js","containers/Order.js","components/Report.js","core/utilities/number.js","components/StorageSize.js","containers/History.js","containers/App.js","core/services/helper.js","core/services/ajax.js","core/services/index.js","core/redux/sagas/index.js","core/redux/reducers/item.js","core/redux/reducers/history.js","core/redux/reducers/index.js","core/redux/store.js","index.js"],"names":["today","Date","dd","getDate","mm","getMonth","getFullYear","useStyles","makeStyles","theme","root","padding","spacing","PaperSheet","props","classes","Paper","className","Typography","variant","component","color","sum","display","flex","margin","width","maxWidth","details","flexDirection","content","cover","count","num","v","id","item","price","CardContent","CardActions","Fab","elevation","fontSize","aria-label","onClick","e","add","history","load","update","payload","type","consts","set","single","CACHE","amendSum","amendCounter","counter","newCounter","Object","assign","Order","Count","state","isSumEqualZero","isPriceNegative","isNumberNegative","isItemEqualZero","undefined","setState","prototype","hasOwnProperty","call","localStorage","cache","getItem","JSON","parse","bind","preProps","preState","this","setItem","stringify","Grid","container","map","i","key","Component","compose","connect","dispatch","params","actions","StyledTableCell","withStyles","head","textAlign","backgroundColor","palette","primary","light","common","white","borderRight","body","TableCell","StyledTableRow","background","default","TableRow","marginTop","overflowX","table","minWidth","zero","CustomizedTables","Table","TableHead","colSpan","length","align","TableBody","data","date","list","n","toString","pattern","test","replace","addComma","size","History","App","drawer","toolbar","Divider","List","name","icon","index","ListItem","button","ListItemIcon","ListItemText","needRedirect","match","path","location","pathname","CssBaseline","AppBar","position","appBar","Toolbar","noWrap","Hidden","smUp","implementation","Drawer","anchor","paper","drawerPaper","ModalProps","keepMounted","xsDown","open","from","to","render","withRouter","breakpoints","up","flexShrink","marginLeft","menuButton","marginRight","mixins","flexGrow","findLocalItems","query","results","value","substring","push","timestamp","getTime","localStorageSpace","allStrings","window","sortDate","arr","min","minIndex","j","console","log","ajaxApi","rootSaga","action","services","res","put","all","takeLatest","defaultState","h","increase","decrease","reducers","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","storageStore","document","getElementById"],"mappings":"ooBAAO,SAASA,IACd,IAAMA,EAAQ,IAAIC,KACZC,EAAKF,EAAMG,UACXC,EAAKJ,EAAMK,WAAa,EAG9B,OAFaL,EAAMM,cAEL,IAAMF,EAAK,IAAMF,ECCjC,IAAMK,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAASF,EAAMG,QAAQ,EAAG,OAIf,SAASC,EAAYC,GAClC,IAAMC,EAAUR,IAEhB,OACE,kBAACS,EAAA,EAAD,CAAOC,UAAWF,EAAQL,MACxB,kBAACQ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,MAAnC,iCAA8CpB,IAA9C,UACA,kBAACkB,EAAA,EAAD,CAAYE,UAAU,IAAIC,MAAM,iBAAhC,2BAAqDP,EAAMQ,IAA3D,Y,iECTAf,EAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJa,QAAS,OACTC,KAAM,EACNb,QAASF,EAAMG,QAAQ,EAAG,GAC1Ba,OAAQ,GACRC,MAAO,IACPC,SAAU,KAEZC,QAAS,CACPL,QAAS,OACTM,cAAe,MACfH,MAAO,KAETI,QAAS,CACPN,KAAM,YAERO,MAAO,CACLL,MAAO,QAII,SAASb,EAAYC,GAAQ,IAClCkB,EAAuClB,EAAvCkB,MAAOC,EAAgCnB,EAAhCmB,IAD0B,EACMnB,EAA3BoB,EAAKC,EADgB,EAChBA,GAAIC,EADY,EACZA,KAAMC,EADM,EACNA,MAC7BtB,EAAUR,IAEhB,OACE,kBAACS,EAAA,EAAD,CAAOC,UAAWF,EAAQL,MACxB,yBAAKO,UAAWF,EAAQa,SACtB,kBAACU,EAAA,EAAD,CAAarB,UAAWF,EAAQe,SAC9B,kBAACZ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,MAAOgB,GAC1C,kBAAClB,EAAA,EAAD,CAAYE,UAAU,KAAtB,gBAA+BiB,EAA/B,gCAAiDJ,GAAO,EAAxD,aAGJ,yBAAKhB,UAAWF,EAAQgB,OACtB,kBAACQ,EAAA,EAAD,CAAatB,UAAWF,EAAQe,SAC9B,kBAACU,EAAA,EAAD,CAAKC,UAAW,EAAGC,SAAS,QAAQC,aAAW,SAASC,QAAU,SAAAC,GAAC,OAAIb,EAAMG,GAAK,GAAIE,KAAU,kBAAC,IAAD,OAChG,kBAACG,EAAA,EAAD,CAAKE,SAAS,QAAQC,aAAW,MAAMC,QAAU,SAAAC,GAAC,OAAIb,EAAMG,EAAI,EAAGE,KAAU,kBAAC,IAAD,UC/CvF,ICGe,GACbD,KDFa,CACbU,IAHU,YCKVC,QCFa,CACbC,KAJW,eAKXC,OAJa,mBCCFH,EAAM,SAAAI,GACjB,MAAO,CACLC,KAAMC,EAAOhB,KAAKU,IAClBI,QAASA,ICHAF,EAAO,WAClB,MAAO,CACLG,KAAMC,EAAOL,QAAQC,OCDV,IACbZ,KAAMA,EACNW,QAASA,GCLEM,GAAO,CAClB,CAAElB,GAAI,EAAGC,KAAM,mDAAYC,MAAO,IAClC,CAAEF,GAAI,EAAGC,KAAM,mDAAYC,MAAO,IAClC,CAAEF,GAAI,EAAGC,KAAM,uCAAUC,MAAO,IAChC,CAAEF,GAAI,EAAGC,KAAM,uCAAUC,MAAO,IAChC,CAAEF,GAAI,EAAGC,KAAM,iCAASC,MAAO,IAC/B,CAAEF,GAAI,EAAGC,KAAM,iCAASC,MAAO,KAC/B,CAAEF,GAAI,EAAGC,KAAM,iCAASC,MAAO,KAC/B,CAAEF,GAAI,EAAGC,KAAM,iCAASC,MAAO,KAC/B,CAAEF,GAAI,EAAGC,KAAM,uCAAUC,MAAO,KAChC,CAAEF,GAAI,GAAIC,KAAM,iCAASC,MAAO,KAChC,CAAEF,GAAI,GAAIC,KAAM,2BAAQC,MAAO,MAGpBiB,GAAS,CACpB,CAAEnB,GAAI,GAAIC,KAAM,iCAASC,MAAO,IAChC,CAAEF,GAAI,GAAIC,KAAM,iCAASC,MAAO,IAChC,CAAEF,GAAI,GAAIC,KAAM,qBAAOC,MAAO,IAC9B,CAAEF,GAAI,GAAIC,KAAM,iCAASC,MAAO,IAChC,CAAEF,GAAI,GAAIC,KAAM,2BAAQC,MAAO,IAC/B,CAAEF,GAAI,GAAIC,KAAM,qBAAOC,MAAO,IAC9B,CAAEF,GAAI,GAAIC,KAAM,qBAAOC,MAAO,IAC9B,CAAEF,GAAI,GAAIC,KAAM,qBAAOC,MAAO,IAC9B,CAAEF,GAAI,GAAIC,KAAM,eAAMC,MAAO,KCPzBkB,GADe,SACQvD,IAEvBwD,GAAW,SAAClC,EAAKe,GACrB,OAAOf,EAAMe,GAGToB,GAAe,SAACC,EAAStB,EAAMH,GACnC,IAAM0B,EAAaC,OAAOC,OAAO,GAAIH,GAQrC,OANKC,EAAWvB,KACduB,EAAWvB,GAAQ,GAGrBuB,EAAWvB,GAAQuB,EAAWvB,GAAQH,EAE/B0B,GAGHG,G,YACJ,WAAahD,GAAQ,IAAD,EAkBlB,GAlBkB,qBAClB,4CAAMA,KA+BRiD,MAAQ,SAAC3B,EAAMH,EAAKI,GAAW,IAAD,EACH,EAAK2B,MAAtBN,EADoB,EACpBA,QAASpC,EADW,EACXA,IAEX2C,EAAyB,IAAR3C,EACjB4C,EAAkB7B,EAAQ,EAC1B8B,GAA4B,IAATlC,EACnBmC,EAAkBV,IAA8B,IAAlBA,EAAQtB,SAAiCiC,IAAlBX,EAAQtB,IAE9D6B,GAAkBC,GAAqBC,GAAoBC,GAIhE,EAAKE,SAAS,CACZZ,QAASD,GAAaC,EAAStB,EAAMH,GACrCX,IAAKkC,GAASlC,EAAKe,MAjCrB,EAAK2B,MAAQ,CACXN,QAAS,GACTpC,IAAK,GAGHsC,OAAOW,UAAUC,eAAeC,KAAKC,aAAcnB,IAAQ,CAC7D,IAAMoB,EAAQD,aAAaE,QAAQrB,IACnC,EAAKS,MAAQa,KAAKC,MAAMH,GApBR,OAuBlB,EAAKZ,MAAQ,EAAKA,MAAMgB,KAAX,gBAvBK,E,gFA0BAC,EAAUC,GACxBC,KAAKlB,QAAUiB,GACjBP,aAAaS,QAAQ5B,GAAOsB,KAAKO,UAAUF,KAAKlB,U,+BAsBzC,IAAD,SACiBkB,KAAKlB,MAAtBN,EADA,EACAA,QAASpC,EADT,EACSA,IAEjB,OACE,6BACE,kBAAC,EAAD,CAAUA,IAAKA,IACf,kBAAC+D,EAAA,EAAD,CAAMC,WAAS,GACb,4CACA,kBAACD,EAAA,EAAD,CAAMC,WAAS,EAAClD,MAAI,EAACxB,QAAS,GAC1ByC,GAAIkC,IAAI,SAACrD,EAAGsD,GAAJ,OAAU,kBAAC,EAAD,CAAMC,IAAKD,EAAGxD,MAAO,EAAK+B,MAAO7B,EAAGA,EAAGD,IAAKyB,EAAQxB,EAAEC,SAE5E,4CACA,kBAACkD,EAAA,EAAD,CAAMC,WAAS,EAAClD,MAAI,EAACxB,QAAS,GAC1B0C,GAAOiC,IAAI,SAACrD,EAAGsD,GAAJ,OAAU,kBAAC,EAAD,CAAMC,IAAKD,EAAGxD,MAAO,EAAK+B,MAAO7B,EAAGA,EAAGD,IAAKyB,EAAQxB,EAAEC,e,GAhErEuD,iBAwELC,eACbC,YACE,SAAA5B,GAAK,MAAK,CACR5B,KAAM4B,EAAM5B,OAEd,SAAAyD,GAAQ,MAAK,CACX/C,IAAK,SAAAgD,GAAM,OAAID,EAASE,GAAQ3D,KAAKU,IAAIgD,QANhCH,CASb7B,I,kDCtGF,IAAMkC,GAAkBC,YAAW,SAAAxF,GAAK,MAAK,CAC3CyF,KAAM,CACJC,UAAW,SACXC,gBAAiB3F,EAAM4F,QAAQC,QAAQC,MACvClF,MAAOZ,EAAM4F,QAAQG,OAAOC,MAC5BC,YAAa,qBAEfC,KAAM,CACJjE,SAAU,GACVyD,UAAW,YATSF,CAWpBW,MAEEC,GAAiBZ,YAAW,SAAAxF,GAAK,MAAK,CAC1CC,KAAM,CACJ,qBAAsB,CACpB0F,gBAAiB3F,EAAM4F,QAAQS,WAAWC,YAHzBd,CAMnBe,MAEEzG,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJgB,MAAO,OACPuF,UAAWxG,EAAMG,QAAQ,GACzBsG,UAAW,QAEbC,MAAO,CACLC,SAAU,KAEZC,KAAM,CACJhG,MAAO,cAII,SAASiG,GAAkBxG,GACxC,IAAMC,EAAUR,KAEhB,OACE,kBAACS,EAAA,EAAD,CAAOC,UAAWF,EAAQL,MACxB,kBAAC6G,GAAA,EAAD,CAAOtG,UAAWF,EAAQoG,OACxB,kBAACK,GAAA,EAAD,KACE,kBAACR,GAAA,EAAD,KACE,kBAAChB,GAAD,MACA,kBAACA,GAAD,CAAiByB,QAASpE,GAAIqE,QAA9B,gBACA,kBAAC1B,GAAD,CAAiByB,QAASnE,GAAOoE,QAAjC,gBACA,kBAAC1B,GAAD,QAGJ,kBAACwB,GAAA,EAAD,KACE,kBAACR,GAAA,EAAD,KACE,kBAAChB,GAAD,qBAEE3C,GAAIkC,IAAI,SAACrD,GACP,OAAO,kBAAC8D,GAAD,CAAiBP,IAAKvD,EAAEC,GAAIwF,MAAM,SAASzF,EAAEE,QAItDkB,GAAOiC,IAAI,SAACrD,GACV,OAAO,kBAAC8D,GAAD,CAAiBP,IAAKvD,EAAEC,GAAIwF,MAAM,SAASzF,EAAEE,QAGxD,kBAAC4D,GAAD,6BAGJ,kBAAC4B,GAAA,EAAD,KAEI9G,EAAM+G,KAAKtC,IAAI,SAACsC,EAAMrC,GAAP,OACb,kBAACqB,GAAD,CAAgBpB,IAAG,UAAKoC,EAAKA,KAAV,YAAkBrC,IACnC,kBAACQ,GAAD,KAAiB,8BAAO6B,EAAKC,OAE3BzE,GAAIkC,IAAI,SAACrD,GACP,OACE,kBAAC8D,GAAD,CAAiBP,IAAG,UAAKoC,EAAKC,KAAV,YAAkB5F,EAAEC,KACrC0F,EAAKE,KAAKrE,QAAQxB,EAAEC,IACjB,8BAAO0F,EAAKE,KAAKrE,QAAQxB,EAAEC,KAC3B,0BAAMlB,UAAWF,EAAQsG,MAAzB,QAMV/D,GAAOiC,IAAI,SAACrD,GACV,OACE,kBAAC8D,GAAD,CAAiBP,IAAG,UAAKoC,EAAKC,KAAV,YAAkB5F,EAAEC,KACrC0F,EAAKE,KAAKrE,QAAQxB,EAAEC,IACjB,8BAAO0F,EAAKE,KAAKrE,QAAQxB,EAAEC,KAC3B,0BAAMlB,UAAWF,EAAQsG,MAAzB,QAKZ,kBAACrB,GAAD,KAAiB,8BCzG1B,SAAmB/D,GAIxB,IAHA,IAAI+F,EAAI/F,EAAIgG,WACNC,EAAU,iBAETA,EAAQC,KAAKH,IAClBA,EAAIA,EAAEI,QAAQF,EAAS,SAGzB,OAAOF,EDiG+BK,CAASR,EAAKE,KAAKzG,aEpG3D,IAAMf,GAAYC,YAAW,SAAAC,GAAK,MAAK,CACrCC,KAAM,CACJC,QAASF,EAAMG,QAAQ,EAAG,OAIf,SAASC,GAAYC,GAClC,IAAMC,EAAUR,KAEhB,OACE,kBAACS,EAAA,EAAD,CAAOC,UAAWF,EAAQL,MACxB,kBAACQ,EAAA,EAAD,CAAYC,QAAQ,KAAKC,UAAU,MAAnC,4BACA,kBAACF,EAAA,EAAD,CAAYE,UAAU,IAAIC,MAAM,iBAAhC,SAAuDP,EAAMwH,O,ICR7DC,G,4LAEFrD,KAAKpE,MAAMkC,S,+BAGF,IACDD,EAAYmC,KAAKpE,MAAjBiC,QAER,OACE,oCACE,kBAAC,GAAD,CAAauF,KAAMvF,EAAQuF,OAC3B,kBAAC,GAAD,CAAQT,KAAM9E,EAAQ8E,Y,GAXRnC,aAiBPC,eACbC,YACE,SAAA5B,GAAK,MAAK,CACRjB,QAASiB,EAAMjB,UAEjB,SAAA8C,GAAQ,MAAK,CACX7C,KAAM,kBAAM6C,EAASE,GAAQhD,QAAQC,YAN5B2C,CASb4C,ICoBIC,G,iLACO,IAAD,EACgCtD,KAAKpE,MAArCwE,EADA,EACAA,UAAWvE,EADX,EACWA,QAASgC,EADpB,EACoBA,QAEtB0F,EACJ,6BACE,yBAAKxH,UAAWF,EAAQ2H,UACxB,kBAACC,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,KACI,CACA,CACEC,KAAM,QACNC,KAAM,kBAAM,kBAAC,IAAD,QAEd,CACED,KAAM,UACNC,KAAM,kBAAM,kBAAC,IAAD,SAEdvD,IAAI,SAACrD,EAAG6G,GAAJ,OACJ,kBAACC,EAAA,EAAD,CACEvD,IAAKvD,EAAE2G,KACPI,QAAM,EACNrG,QAAS,WAAQG,EAAQqF,QAAR,WAAoBlG,EAAE2G,SAEvC,kBAACK,EAAA,EAAD,KAAehH,EAAE4G,QACjB,kBAACK,EAAA,EAAD,CAAc7C,QAAUpE,EAAE2G,WAKhC,kBAACF,EAAA,EAAD,OAIES,EAAelE,KAAKpE,MAAMuI,MAAMC,OAASpE,KAAKpE,MAAMyI,SAASC,SAEnE,OACE,oCACE,yBAAKvI,UAAWF,EAAQL,MACtB,kBAAC+I,EAAA,EAAD,MACA,kBAACC,EAAA,EAAD,CAAQC,SAAS,QAAQ1I,UAAWF,EAAQ6I,QAC1C,kBAACC,EAAA,EAAD,KACE,kBAAC3I,EAAA,EAAD,CAAYC,QAAQ,KAAK2I,QAAM,GAA/B,kBAGJ,yBAAK7I,UAAWF,EAAQ0H,OAAQ9F,aAAW,mBAEzC,kBAACoH,EAAA,EAAD,CAAQC,MAAI,EAACC,eAAe,OAC1B,kBAACC,EAAA,EAAD,CACE5E,UAAWA,EACXnE,QAAQ,YACRgJ,OAAO,OACPpJ,QAAS,CACPqJ,MAAOrJ,EAAQsJ,aAEjBC,WAAY,CACVC,aAAa,IAGd9B,IAGL,kBAACsB,EAAA,EAAD,CAAQS,QAAM,EAACP,eAAe,OAC5B,kBAACC,EAAA,EAAD,CACEnJ,QAAS,CACPqJ,MAAOrJ,EAAQsJ,aAEjBlJ,QAAQ,YACRsJ,MAAI,GAEHhC,KAIP,0BAAMxH,UAAWF,EAAQe,SACvB,yBAAKb,UAAWF,EAAQ2H,UACxB,kBAAC,IAAD,KACIU,GAAgB,kBAAC,IAAD,CAAUsB,KAAK,IAAIC,GAAG,WACxC,kBAAC,IAAD,CAAOrB,KAAK,SAASsB,OAAQ,SAAA9J,GAAK,OAAI,kBAAC,GAAUA,MACjD,kBAAC,IAAD,CAAOwI,KAAK,WAAWsB,OAAQ,SAAA9J,GAAK,OAAI,kBAAC,GAAYA,c,GA/EjD4E,aAwFHmF,eAAW5E,YAxHX,SAACxF,GAAD,MAAY,CACzBC,KAAM,CACJa,QAAS,QAEXkH,OAAO,eACJhI,EAAMqK,YAAYC,GAAG,MAAQ,CAC5BrJ,MARc,IASdsJ,WAAY,IAGhBpB,OAAO,eACJnJ,EAAMqK,YAAYC,GAAG,MAAQ,CAC5BrJ,MAAM,eAAD,OAdS,IAcT,OACLuJ,WAfc,MAkBlBC,WAAW,aACTC,YAAa1K,EAAMG,QAAQ,IAC1BH,EAAMqK,YAAYC,GAAG,MAAQ,CAC5BxJ,QAAS,SAGbmH,QAASjI,EAAM2K,OAAO1C,QACtB2B,YAAa,CACX3I,MA1BgB,KA4BlBI,QAAS,CACPuJ,SAAU,EACV1K,QAASF,EAAMG,QAAQ,MA4FDqF,CAAmBuC,K,sCC/IhC8C,I,MAAiB,SAAAC,GAC5B,IAAMC,EAAU,GACZhG,EAAI,GACR,IAAKA,KAAKd,aACR,GAAId,OAAOW,UAAUC,eAAeC,KAAKC,aAAcc,KACjDA,EAAE6D,MAAMkC,KAAYA,GAAsB,kBAAN/F,GAAiB,CACvD,IAAMiG,EAAQ5G,KAAKC,MAAMJ,aAAaE,QAAQY,IACxCsC,EAAOtC,EAAEkG,UAAU,GAEzBF,EAAQG,KAAK,CACXC,UAAW,IAAI3L,KAAK6H,GAAM+D,UAC1B/D,KAAMA,EACNC,KAAM0D,IAMd,OAAOD,IAGIM,GAAoB,WAC/B,IAAIC,EAAa,GACjB,IAAK,IAAItG,KAAOuG,OAAOtH,aACjBd,OAAOW,UAAUC,eAAeC,KAAKuH,OAAOtH,aAAce,KAC5DsG,GAAcC,OAAOtH,aAAae,IAGtC,OAAOsG,EAAa,EAA0B,GAApBA,EAAWrE,OAAZ,KAAyC,MAAQ,gBAG/DuE,GAAW,SAAAC,GAGtB,IAFA,IAAMxE,EAASwE,EAAIxE,OAEVlC,EAAI,EAAGA,EAAIkC,EAAQlC,IAAK,CAI/B,IAHA,IAAI2G,EAAMD,EAAI1G,GAAGoG,UACbQ,EAAW5G,EAEN6G,EAAI7G,EAAG6G,EAAI3E,EAAQ2E,IACtBH,EAAIG,GAAGT,UAAYO,IACrBA,EAAMD,EAAIG,GAAGT,UACbQ,EAAWC,GAPgB,MAWL,CAACH,EAAI1G,GAAI0G,EAAIE,IAAtCF,EAAIE,GAX0B,KAWfF,EAAI1G,GAXW,KAcjC,OAAO0G,GC7CIpJ,GAAM,SAAAI,GACjBoJ,QAAQC,IAAI,UAAWrJ,IAGZF,GAAO,iBAAO,CACzB6E,KAAMoE,GAASX,GAAe,YAC9BhD,KAAMwD,O,6NCPO,O,uVAAA,IACVU,G,aCEM1J,I,aAIAE,I,aAKeyJ,IAT1B,SAAW3J,GAAK4J,GAAhB,iEACE,OADF,SACQC,GAAS7J,IAAI4J,GADrB,uCAIA,SAAW1J,GAAM0J,GAAjB,uEACc,OADd,SACoBC,GAAS3J,OAD7B,OAEE,OADM4J,EADR,gBAEQC,aAAI,CAAE1J,KAAMC,EAAOL,QAAQE,OAAQ2J,QAF3C,uCAKe,SAAWH,KAAX,iEACb,OADa,SACPK,aAAI,CACRC,aAAW3J,EAAOhB,KAAKU,IAAKA,IAC5BiK,aAAW3J,EAAOL,QAAQC,KAAMA,MAHrB,uC,aCXTgK,GAAe,CACnBC,EAAG,OAgBU7K,GAbF,WAAmC,IAAlC4B,EAAiC,uDAAzBgJ,GAAcN,EAAW,uCAC7C,OAAQA,EAAOvJ,MACb,KAAKC,EAAOhB,KAAK8K,SAGjB,KAAK9J,EAAOhB,KAAK+K,SACf,OAAOtJ,kBAAO,GAAIG,EAAO,IAE3B,QACE,OAAOA,I,ujBCdb,IAAMgJ,GAAe,CACnBnF,KAAM,GACNS,KAAM,IAYOvF,GATC,WAAmC,IAAlCiB,EAAiC,uDAAzBgJ,GAAcN,EAAW,uCAChD,OAAQA,EAAOvJ,MACb,KAAKC,EAAOL,QAAQE,OAClB,OAAO,MAAKe,EAAZ,GAAsB0I,EAAOE,KAC/B,QACE,OAAO5I,ICHEoJ,GALEC,YAAgB,CAC/BjL,QACAW,aCCIuK,GAAiBC,eAEjBC,GAAQC,YACZL,GACAM,YAAgBJ,KAIlBA,GAAeK,IAAIlB,IAEJe,UCPf5C,iBACE,kBAAC,IAAD,KACE,kBAAC,IAAD,CAAU4C,MAAOI,IACf,kBAAC,GAAD,QAGFC,SAASC,eAAe,W","file":"static/js/main.4edb53a2.chunk.js","sourcesContent":["export function today () {\n  const today = new Date();\n  const dd = today.getDate();\n  const mm = today.getMonth() + 1;\n  const yyyy = today.getFullYear();\n\n  return yyyy + '/' + mm + '/' + dd;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { today } from 'core/utilities/time';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h5\" component=\"h3\">今日小記（{today()}）</Typography>\n      <Typography component=\"p\" color=\"textSecondary\">總金額：{props.sum} 元</Typography>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flex: 1,\n    padding: theme.spacing(3, 2),\n    margin: 10,\n    width: 450,\n    maxWidth: 480,\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'row',\n    width: 300,\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    width: 150,\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const { count, num, v: { id, item, price } } = props;\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <div className={classes.details}>\n        <CardContent className={classes.content}>\n          <Typography variant=\"h5\" component=\"h3\">{ item }</Typography>\n          <Typography component=\"p\">金額 { price } 元 - 已售出 { num || 0 } 份</Typography>\n        </CardContent>\n      </div>\n      <div className={classes.cover}>\n        <CardActions className={classes.content}>\n          <Fab elevation={0} fontSize=\"small\" aria-label=\"remove\" onClick={ e => count(id, -1, -price) } ><RemoveIcon /></Fab>\n          <Fab fontSize=\"small\" aria-label=\"add\" onClick={ e => count(id, 1, price) } ><AddIcon /></Fab>\n        </CardActions>\n      </div>\n    </Paper>\n  );\n}\n","const add = 'ADD_ITEM';\n\nexport default {\n  add,\n};\n","import item from './item';\nimport history from './history';\n\nexport default {\n  item: item,\n  history: history,\n};\n","const load = 'LOAD_HISTORY';\nconst update = 'UPDATE_HISTORY';\n\nexport default {\n  load,\n  update,\n};\n","import consts from './consts';\n\nexport const add = payload => {\n  return {\n    type: consts.item.add,\n    payload: payload,\n  };\n};\n","import consts from './consts';\n\nexport const load = () => {\n  return {\n    type: consts.history.load,\n  };\n};\n","import * as item from './item';\nimport * as history from './history';\n\nexport default {\n  item: item,\n  history: history,\n};\n","export const set =  [\n  { id: 1, item: '水食蔬餐盒（素）', price: 65 },\n  { id: 2, item: '姑姑鮮蔬餐（素）', price: 80 },\n  { id: 3, item: '迷迭香嫩雞胸', price: 90 },\n  { id: 4, item: '黑麻油豬里肌', price: 90 },\n  { id: 5, item: '清香滷雞腿', price: 95 },\n  { id: 6, item: '香檸羅勒雕', price: 100 },\n  { id: 7, item: '藥膳燉雞腿', price: 105 },\n  { id: 8, item: '家鄉滷牛腱', price: 120 },\n  { id: 9, item: '義式烤雞腿排', price: 120 },\n  { id: 10, item: '秘製鹹豬肉', price: 110 },\n  { id: 11, item: '韓式辣雞', price: 120 },\n];\n\nexport const single = [\n  { id: 12, item: '迷迭香雞胸', price: 45 },\n  { id: 13, item: '麻油豬里肌', price: 45 },\n  { id: 14, item: '滷雞腿', price: 45 },\n  { id: 15, item: '香檸羅勒雕', price: 50 },\n  { id: 16, item: '藥膳雞腿', price: 50 },\n  { id: 17, item: '滷牛腱', price: 60 },\n  { id: 18, item: '水煮蛋', price: 10 },\n  { id: 19, item: '十穀米', price: 15 },\n  { id: 20, item: '蔬菜', price: 45 },\n]\n","// TODO: reacthook -> typescript\nimport React, { PureComponent as Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Totaling from 'components/Totaling';\nimport Meal from 'components/Meal';\n\nimport actions from 'core/redux/actions';\nimport { today } from 'core/utilities/time';\n\nimport { set, single } from 'configs/menu';\n\nconst CACHE_PREFIX = 'cache_';\nconst CACHE = CACHE_PREFIX + today();\n\nconst amendSum = (sum, price) => {\n  return sum + price;\n};\n\nconst amendCounter = (counter, item, num) => {\n  const newCounter = Object.assign({}, counter);\n\n  if (!newCounter[item]) {\n    newCounter[item] = 0;\n  }\n\n  newCounter[item] = newCounter[item] + num;\n\n  return newCounter;\n};\n\nclass Order extends Component {\n  constructor (props) {\n    super(props);\n\n    // @ counter 為當前項目數量\n    // @ sum 為所有項目總和金額\n    //\n    // state: {\n    //  counter: {\n    //    \"chicken\": 0,\n    //    \"beef\": 1,\n    //  },\n    //  sum: 100\n    // }\n    this.state = {\n      counter: {},\n      sum: 0,\n    };\n\n    if (Object.prototype.hasOwnProperty.call(localStorage, CACHE)) {\n      const cache = localStorage.getItem(CACHE);\n      this.state = JSON.parse(cache);\n    }\n\n    this.Count = this.Count.bind(this);\n  }\n\n  componentDidUpdate (preProps, preState) {\n    if (this.state !== preState) {\n      localStorage.setItem(CACHE, JSON.stringify(this.state));\n    }\n  }\n\n  Count = (item, num, price) => {\n    const { counter, sum } = this.state;\n\n    const isSumEqualZero = sum === 0;\n    const isPriceNegative = price < 0;\n    const isNumberNegative = num === -1;\n    const isItemEqualZero = counter && (counter[item] === 0 || counter[item] === undefined);\n\n    if ((isSumEqualZero && isPriceNegative) || (isNumberNegative && isItemEqualZero)) {\n      return;\n    }\n\n    this.setState({\n      counter: amendCounter(counter, item, num),\n      sum: amendSum(sum, price),\n    });\n  }\n\n  render () {\n    const { counter, sum } = this.state;\n\n    return (\n      <div>\n        <Totaling sum={sum}/>\n        <Grid container>\n          <h1>餐盒</h1>\n          <Grid container item spacing={3}>\n            { set.map((v, i) => <Meal key={i} count={this.Count} v={v} num={counter[v.id]} />) }\n          </Grid>\n          <h1>單點</h1>\n          <Grid container item spacing={3}>\n            { single.map((v, i) => <Meal key={i} count={this.Count} v={v} num={counter[v.id]} />) }\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  connect(\n    state => ({\n      item: state.item,\n    }),\n    dispatch => ({\n      add: params => dispatch(actions.item.add(params)),\n    }),\n  ),\n)(Order);\n","import React from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { addComma } from 'core/utilities/number';\n\nimport { set, single } from 'configs/menu';\n\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.common.white,\n    borderRight: '1px solid #c5cae9',\n  },\n  body: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n}))(TableRow);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(3),\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n  zero: {\n    color: '#bdbdbd',\n  },\n}));\n\nexport default function CustomizedTables (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <StyledTableCell></StyledTableCell>\n            <StyledTableCell colSpan={set.length}>餐盒</StyledTableCell>\n            <StyledTableCell colSpan={single.length}>單點</StyledTableCell>\n            <StyledTableCell></StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>日期</StyledTableCell>\n            {\n              set.map((v) => {\n                return <StyledTableCell key={v.id} align=\"right\">{v.item}</StyledTableCell>;\n              })\n            }\n            {\n              single.map((v) => {\n                return <StyledTableCell key={v.id} align=\"right\">{v.item}</StyledTableCell>;\n              })\n            }\n            <StyledTableCell>總金額</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {\n            props.data.map((data, i) => (\n              <StyledTableRow key={`${data.data}_${i}`}>\n                <StyledTableCell><span>{data.date}</span></StyledTableCell>\n                {\n                  set.map((v) => {\n                    return (\n                      <StyledTableCell key={`${data.date}_${v.id}`}>\n                        {data.list.counter[v.id]\n                          ? <span>{data.list.counter[v.id]}</span>\n                          : <span className={classes.zero}>0</span>}\n                      </StyledTableCell>\n                    );\n                  })\n                }\n                {\n                  single.map((v) => {\n                    return (\n                      <StyledTableCell key={`${data.date}_${v.id}`}>\n                        {data.list.counter[v.id]\n                          ? <span>{data.list.counter[v.id]}</span>\n                          : <span className={classes.zero}>0</span>}\n                      </StyledTableCell>\n                    );\n                  })\n                }\n                <StyledTableCell><span>{addComma(data.list.sum)}</span></StyledTableCell>\n              </StyledTableRow>\n            ))\n          }\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n","export function addComma (num) {\n  let n = num.toString();\n  const pattern = /(-?\\d+)(\\d{3})/;\n\n  while (pattern.test(n)) {\n    n = n.replace(pattern, '$1,$2');\n  }\n\n  return n;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h5\" component=\"h3\">儲存空間</Typography>\n      <Typography component=\"p\" color=\"textSecondary\">Size: {props.size}</Typography>\n    </Paper>\n  );\n}\n","import React, { Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Report from 'components/Report';\nimport StorageSize from 'components/StorageSize';\n\nimport actions from 'core/redux/actions';\n\nclass History extends Component {\n  componentDidMount () {\n    this.props.load();\n  }\n\n  render () {\n    const { history } = this.props;\n\n    return (\n      <>\n        <StorageSize size={history.size} />\n        <Report data={history.data}/>\n      </>\n    );\n  }\n}\n\nexport default compose(\n  connect(\n    state => ({\n      history: state.history,\n    }),\n    dispatch => ({\n      load: () => dispatch(actions.history.load()),\n    }),\n  ),\n)(History);\n","import React, { Component } from 'react';\nimport { withRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport RestaurantMenuIcon from '@material-ui/icons/RestaurantMenu';\nimport HistoryIcon from '@material-ui/icons/History';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Order from './Order';\nimport History from './History';\n\nconst drawerWidth = 240;\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n});\n\nclass App extends Component {\n  render () {\n    const { container, classes, history } = this.props;\n\n    const drawer = (\n      <div>\n        <div className={classes.toolbar} />\n        <Divider />\n        <List>\n          { [\n            {\n              name: 'order',\n              icon: () => <RestaurantMenuIcon />,\n            },\n            {\n              name: 'history',\n              icon: () => <HistoryIcon />,\n            },\n          ].map((v, index) => (\n            <ListItem\n              key={v.name}\n              button\n              onClick={() => { history.replace(`/${v.name}`); }}\n            >\n              <ListItemIcon>{v.icon()}</ListItemIcon>\n              <ListItemText primary={ v.name } />\n            </ListItem>\n          ))\n          }\n        </List>\n        <Divider />\n      </div>\n    );\n\n    const needRedirect = this.props.match.path === this.props.location.pathname;\n\n    return (\n      <>\n        <div className={classes.root}>\n          <CssBaseline />\n          <AppBar position=\"fixed\" className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" noWrap>水食</Typography>\n            </Toolbar>\n          </AppBar>\n          <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n            <Hidden smUp implementation=\"css\">\n              <Drawer\n                container={container}\n                variant=\"temporary\"\n                anchor=\"left\"\n                classes={{\n                  paper: classes.drawerPaper,\n                }}\n                ModalProps={{\n                  keepMounted: true, // Better open performance on mobile.\n                }}\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n            <Hidden xsDown implementation=\"css\">\n              <Drawer\n                classes={{\n                  paper: classes.drawerPaper,\n                }}\n                variant=\"permanent\"\n                open\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n          </nav>\n          <main className={classes.content}>\n            <div className={classes.toolbar} />\n            <Switch>\n              { needRedirect && <Redirect from=\"/\" to='/order' /> }\n              <Route path=\"/order\" render={props => <Order {...props} />} />\n              <Route path=\"/history\" render={props => <History {...props} />} />\n            </Switch>\n          </main>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(App));\n","export const findLocalItems = query => {\n  const results = [];\n  let i = [];\n  for (i in localStorage) {\n    if (Object.prototype.hasOwnProperty.call(localStorage, i)) {\n      if (i.match(query) || (!query && typeof i === 'string')) {\n        const value = JSON.parse(localStorage.getItem(i));\n        const date = i.substring(6);\n\n        results.push({\n          timestamp: new Date(date).getTime(),\n          date: date,\n          list: value,\n        });\n      }\n    }\n  }\n\n  return results;\n};\n\nexport const localStorageSpace = () => {\n  var allStrings = '';\n  for (var key in window.localStorage) {\n    if (Object.prototype.hasOwnProperty.call(window.localStorage, key)) {\n      allStrings += window.localStorage[key];\n    }\n  }\n  return allStrings ? 3 + ((allStrings.length * 16) / (8 * 1024)) + ' KB' : 'Empty (0 KB)';\n};\n\nexport const sortDate = arr => {\n  const length = arr.length;\n\n  for (let i = 0; i < length; i++) {\n    let min = arr[i].timestamp;\n    let minIndex = i;\n\n    for (let j = i; j < length; j++) {\n      if (arr[j].timestamp < min) {\n        min = arr[j].timestamp;\n        minIndex = j;\n      }\n    }\n\n    [arr[minIndex], arr[i]] = [arr[i], arr[minIndex]];\n  }\n\n  return arr;\n};\n","import 'whatwg-fetch';\nimport { findLocalItems, localStorageSpace, sortDate } from './helper';\n\nexport const add = payload => {\n  console.log('payload', payload);\n};\n\nexport const load = () => ({\n  data: sortDate(findLocalItems('cache_*')),\n  size: localStorageSpace(),\n});\n","import * as ajaxApi from './ajax';\n\nexport default {\n  ...ajaxApi,\n};\n","import { all, put, takeLatest } from 'redux-saga/effects';\n\nimport consts from 'core/redux/actions/consts';\nimport services from 'core/services';\n\nfunction * add (action) {\n  yield services.add(action);\n}\n\nfunction * load (action) {\n  const res = yield services.load();\n  yield put({ type: consts.history.update, res });\n}\n\nexport default function * rootSaga () {\n  yield all([\n    takeLatest(consts.item.add, add),\n    takeLatest(consts.history.load, load),\n  ]);\n}\n","import consts from 'core/redux/actions/consts';\nimport { assign } from 'lodash';\n\nconst defaultState = {\n  h: 'abc',\n};\n\nconst item = (state = defaultState, action) => {\n  switch (action.type) {\n    case consts.item.increase:\n      return assign({}, state, {});\n\n    case consts.item.decrease:\n      return assign({}, state, {});\n\n    default:\n      return state;\n  }\n};\n\nexport default item;\n","import consts from 'core/redux/actions/consts';\n\nconst defaultState = {\n  data: [],\n  size: '',\n};\n\nconst history = (state = defaultState, action) => {\n  switch (action.type) {\n    case consts.history.update:\n      return { ...state, ...action.res };\n    default:\n      return state;\n  }\n};\n\nexport default history;\n","import { combineReducers } from 'redux';\nimport item from './item';\nimport history from './history';\n\nconst reducers = combineReducers({\n  item,\n  history,\n});\n\nexport default reducers;\n","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootSaga from './sagas';\nimport reducers from 'core/redux/reducers';\n\n// redux-saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(sagaMiddleware),\n);\n\n// run saga\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from 'containers/App';\n\nimport storageStore from 'core/redux/store';\n\nrender(\n  <HashRouter>\n    <Provider store={storageStore}>\n      <App />\n    </Provider>\n  </HashRouter>\n  , document.getElementById('root'));\n"],"sourceRoot":""}