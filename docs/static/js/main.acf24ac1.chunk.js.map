{"version":3,"sources":["core/utilities/time.js","components/Totaling.js","components/Meal.js","core/redux/actions/consts/item.js","core/redux/actions/consts/index.js","core/redux/actions/consts/history.js","core/redux/actions/item.js","core/redux/actions/history.js","core/redux/actions/index.js","configs/menu.js","containers/Order.js","components/Report.js","core/utilities/number.js","components/StorageSize.js","containers/History.js","containers/App.js","core/services/helper.js","core/services/ajax.js","core/services/index.js","core/redux/sagas/index.js","core/redux/reducers/item.js","core/redux/reducers/history.js","core/redux/reducers/index.js","core/redux/store.js","index.js"],"names":["today","Date","dd","getDate","mm","getMonth","getFullYear","useStyles","makeStyles","theme","root","padding","spacing","PaperSheet","props","classes","Paper","className","Typography","variant","component","color","sum","display","flex","margin","width","maxWidth","details","flexDirection","content","cover","count","id","num","v","item","price","CardContent","CardActions","Fab","elevation","fontSize","aria-label","onClick","e","add","history","load","update","payload","type","consts","CACHE","amendSum","amendCounter","counter","newCounter","Object","assign","Order","Count","state","isSumEqualZero","isPriceNegative","isNumberNegative","isItemEqualZero","undefined","setState","prototype","hasOwnProperty","call","localStorage","cache","getItem","JSON","parse","bind","preProps","preState","this","setItem","stringify","Grid","container","menu","map","i","key","Component","compose","connect","dispatch","params","actions","StyledTableCell","withStyles","head","textAlign","backgroundColor","palette","primary","light","common","white","borderRight","body","TableCell","StyledTableRow","background","default","TableRow","marginTop","overflowX","table","minWidth","zero","CustomizedTables","Table","TableHead","colSpan","length","align","TableBody","data","date","_","mi","list","n","toString","pattern","test","replace","addComma","size","History","App","drawer","toolbar","Divider","List","name","icon","index","ListItem","button","ListItemIcon","ListItemText","needRedirect","match","path","location","pathname","CssBaseline","AppBar","position","appBar","Toolbar","noWrap","Hidden","smUp","implementation","Drawer","anchor","paper","drawerPaper","ModalProps","keepMounted","xsDown","open","from","to","render","withRouter","breakpoints","up","flexShrink","marginLeft","menuButton","marginRight","mixins","flexGrow","findLocalItems","query","results","value","substring","push","timestamp","getTime","localStorageSpace","allStrings","window","sortDate","arr","min","minIndex","j","console","log","ajaxApi","rootSaga","action","services","res","put","all","takeLatest","defaultState","h","increase","decrease","reducers","combineReducers","sagaMiddleware","createSagaMiddleware","store","createStore","applyMiddleware","run","storageStore","document","getElementById"],"mappings":"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","file":"static/js/main.acf24ac1.chunk.js","sourcesContent":["export function today () {\n  const today = new Date();\n  const dd = today.getDate();\n  const mm = today.getMonth() + 1;\n  const yyyy = today.getFullYear();\n\n  return yyyy + '/' + mm + '/' + dd;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nimport { today } from 'core/utilities/time';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h5\" component=\"h3\">今日小記（{today()}）</Typography>\n      <Typography component=\"p\" color=\"textSecondary\">總金額：{props.sum} 元</Typography>\n    </Paper>\n  );\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport CardContent from '@material-ui/core/CardContent';\nimport CardActions from '@material-ui/core/CardActions';\nimport Fab from '@material-ui/core/Fab';\nimport AddIcon from '@material-ui/icons/Add';\nimport RemoveIcon from '@material-ui/icons/Remove';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    display: 'flex',\n    flex: 1,\n    padding: theme.spacing(3, 2),\n    margin: 10,\n    width: 450,\n    maxWidth: 480,\n  },\n  details: {\n    display: 'flex',\n    flexDirection: 'row',\n    width: 300,\n  },\n  content: {\n    flex: '1 0 auto',\n  },\n  cover: {\n    width: 150,\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const { count, id, num, v: { item, price } } = props;\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <div className={classes.details}>\n        <CardContent className={classes.content}>\n          <Typography variant=\"h5\" component=\"h3\">{ item }</Typography>\n          <Typography component=\"p\">金額 { price } 元 - 已售出 { num || 0 } 份</Typography>\n        </CardContent>\n      </div>\n      <div className={classes.cover}>\n        <CardActions className={classes.content}>\n          <Fab elevation={0} fontSize=\"small\" aria-label=\"remove\" onClick={ e => count(id, -1, -price) } ><RemoveIcon /></Fab>\n          <Fab fontSize=\"small\" aria-label=\"add\" onClick={ e => count(id, 1, price) } ><AddIcon /></Fab>\n        </CardActions>\n      </div>\n    </Paper>\n  );\n}\n","const add = 'ADD_ITEM';\n\nexport default {\n  add,\n};\n","import item from './item';\nimport history from './history';\n\nexport default {\n  item: item,\n  history: history,\n};\n","const load = 'LOAD_HISTORY';\nconst update = 'UPDATE_HISTORY';\n\nexport default {\n  load,\n  update,\n};\n","import consts from './consts';\n\nexport const add = payload => {\n  return {\n    type: consts.item.add,\n    payload: payload,\n  };\n};\n","import consts from './consts';\n\nexport const load = () => {\n  return {\n    type: consts.history.load,\n  };\n};\n","import * as item from './item';\nimport * as history from './history';\n\nexport default {\n  item: item,\n  history: history,\n};\n","export default [\n  // 餐盒\n  [\n    { item: '水食蔬餐盒（素）', price: 65 },\n    { item: '姑姑鮮蔬餐（素）', price: 80 },\n    { item: '迷迭香嫩雞胸', price: 90 },\n    { item: '黑麻油豬里肌', price: 90 },\n    { item: '清香滷雞腿', price: 95 },\n    { item: '香檸羅勒雕', price: 100 },\n    { item: '藥膳燉雞腿', price: 105 },\n    { item: '家鄉滷牛腱', price: 120 },\n    { item: '義式烤雞腿排', price: 120 },\n    { item: '秘製鹹豬肉', price: 110 },\n    { item: '韓式辣雞', price: 120 },\n  ],\n  // 單點\n  [\n    { item: '迷迭香雞胸', price: 45 },\n    { item: '麻油豬里肌', price: 45 },\n    { item: '滷雞腿', price: 45 },\n    { item: '香檸羅勒雕', price: 50 },\n    { item: '藥膳雞腿', price: 50 },\n    { item: '滷牛腱', price: 60 },\n    { item: '水煮蛋', price: 10 },\n    { item: '十穀米', price: 15 },\n    { item: '蔬菜', price: 45 },\n  ],\n];\n","// TODO: reacthook -> typescript\nimport React, { PureComponent as Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Grid from '@material-ui/core/Grid';\n\nimport Totaling from 'components/Totaling';\nimport Meal from 'components/Meal';\n\nimport actions from 'core/redux/actions';\nimport { today } from 'core/utilities/time';\n\nimport menu from 'configs/menu';\n\nconst CACHE_PREFIX = 'cache_';\nconst CACHE = CACHE_PREFIX + today();\n\nconst amendSum = (sum, price) => {\n  return sum + price;\n};\n\nconst amendCounter = (counter, item, num) => {\n  const newCounter = Object.assign({}, counter);\n\n  if (!newCounter[item]) {\n    newCounter[item] = 0;\n  }\n\n  newCounter[item] = newCounter[item] + num;\n\n  return newCounter;\n};\n\nclass Order extends Component {\n  constructor (props) {\n    super(props);\n\n    // @ counter 為當前項目數量\n    // @ sum 為所有項目總和金額\n    //\n    // state: {\n    //  counter: {\n    //    \"chicken\": 0,\n    //    \"beef\": 1,\n    //  },\n    //  sum: 100\n    // }\n    this.state = {\n      counter: {},\n      sum: 0,\n    };\n\n    if (Object.prototype.hasOwnProperty.call(localStorage, CACHE)) {\n      const cache = localStorage.getItem(CACHE);\n      this.state = JSON.parse(cache);\n    }\n\n    this.Count = this.Count.bind(this);\n  }\n\n  componentDidUpdate (preProps, preState) {\n    if (this.state !== preState) {\n      localStorage.setItem(CACHE, JSON.stringify(this.state));\n    }\n  }\n\n  Count = (item, num, price) => {\n    const { counter, sum } = this.state;\n\n    const isSumEqualZero = sum === 0;\n    const isPriceNegative = price < 0;\n    const isNumberNegative = num === -1;\n    const isItemEqualZero = counter && (counter[item] === 0 || counter[item] === undefined);\n\n    if ((isSumEqualZero && isPriceNegative) || (isNumberNegative && isItemEqualZero)) {\n      return;\n    }\n\n    this.setState({\n      counter: amendCounter(counter, item, num),\n      sum: amendSum(sum, price),\n    });\n  }\n\n  render () {\n    const { counter, sum } = this.state;\n\n    return (\n      <div>\n        <Totaling sum={sum}/>\n        <Grid container>\n          <h1>餐盒</h1>\n          <Grid container item spacing={3}>\n            { menu[0].map((v, i) => <Meal key={i} count={this.Count} id={i} v={v} num={counter[i]} />) }\n          </Grid>\n          <h1>單點</h1>\n          <Grid container item spacing={3}>\n            { menu[1].map((v, i) => <Meal key={i} count={this.Count} id={i} v={v} num={counter[i]} />) }\n          </Grid>\n        </Grid>\n      </div>\n    );\n  }\n}\n\nexport default compose(\n  connect(\n    state => ({\n      item: state.item,\n    }),\n    dispatch => ({\n      add: params => dispatch(actions.item.add(params)),\n    }),\n  ),\n)(Order);\n","import React from 'react';\nimport { withStyles, makeStyles } from '@material-ui/core/styles';\nimport Table from '@material-ui/core/Table';\nimport TableBody from '@material-ui/core/TableBody';\nimport TableCell from '@material-ui/core/TableCell';\nimport TableHead from '@material-ui/core/TableHead';\nimport TableRow from '@material-ui/core/TableRow';\nimport Paper from '@material-ui/core/Paper';\n\nimport { addComma } from 'core/utilities/number';\n\nimport menu from 'configs/menu';\n\nconst StyledTableCell = withStyles(theme => ({\n  head: {\n    textAlign: 'center',\n    backgroundColor: theme.palette.primary.light,\n    color: theme.palette.common.white,\n    borderRight: '1px solid #c5cae9',\n  },\n  body: {\n    fontSize: 14,\n    textAlign: 'center',\n  },\n}))(TableCell);\n\nconst StyledTableRow = withStyles(theme => ({\n  root: {\n    '&:nth-of-type(odd)': {\n      backgroundColor: theme.palette.background.default,\n    },\n  },\n}))(TableRow);\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    width: '100%',\n    marginTop: theme.spacing(3),\n    overflowX: 'auto',\n  },\n  table: {\n    minWidth: 700,\n  },\n  zero: {\n    color: '#bdbdbd',\n  },\n}));\n\nexport default function CustomizedTables (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Table className={classes.table}>\n        <TableHead>\n          <TableRow>\n            <StyledTableCell></StyledTableCell>\n            <StyledTableCell colSpan={menu[0].length}>餐盒</StyledTableCell>\n            <StyledTableCell colSpan={menu[1].length}>單點</StyledTableCell>\n            <StyledTableCell></StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableHead>\n          <TableRow>\n            <StyledTableCell>日期</StyledTableCell>\n            {\n              menu[0].map((v, i) => {\n                return <StyledTableCell key={i} align=\"right\">{v.item}</StyledTableCell>;\n              })\n            }\n            {\n              menu[1].map((v, i) => {\n                return <StyledTableCell key={i} align=\"right\">{v.item}</StyledTableCell>;\n              })\n            }\n            <StyledTableCell>總金額</StyledTableCell>\n          </TableRow>\n        </TableHead>\n        <TableBody>\n          {\n            props.data.map((data, i) => (\n              <StyledTableRow key={`${data.data}_${i}`}>\n                <StyledTableCell><span>{data.date}</span></StyledTableCell>\n                {\n                  menu[0].map((_, mi) => {\n                    return (\n                      <StyledTableCell key={`${data.date}_${i}_${mi}`}>\n                        {data.list.counter[mi]\n                          ? <span>{data.list.counter[mi]}</span>\n                          : <span className={classes.zero}>0</span>}\n                      </StyledTableCell>\n                    );\n                  })\n                }\n                {\n                  menu[1].map((_, mi) => {\n                    return (\n                      <StyledTableCell key={`${data.date}_${i}_${mi}`}>\n                        {data.list.counter[mi]\n                          ? <span>{data.list.counter[mi]}</span>\n                          : <span className={classes.zero}>0</span>}\n                      </StyledTableCell>\n                    );\n                  })\n                }\n                <StyledTableCell><span>{addComma(data.list.sum)}</span></StyledTableCell>\n              </StyledTableRow>\n            ))\n          }\n        </TableBody>\n      </Table>\n    </Paper>\n  );\n}\n","export function addComma (num) {\n  let n = num.toString();\n  const pattern = /(-?\\d+)(\\d{3})/;\n\n  while (pattern.test(n)) {\n    n = n.replace(pattern, '$1,$2');\n  }\n\n  return n;\n}\n","import React from 'react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    padding: theme.spacing(3, 2),\n  },\n}));\n\nexport default function PaperSheet (props) {\n  const classes = useStyles();\n\n  return (\n    <Paper className={classes.root}>\n      <Typography variant=\"h5\" component=\"h3\">儲存空間</Typography>\n      <Typography component=\"p\" color=\"textSecondary\">Size: {props.size}</Typography>\n    </Paper>\n  );\n}\n","import React, { Component } from 'react';\nimport { compose } from 'redux';\nimport { connect } from 'react-redux';\n\nimport Report from 'components/Report';\nimport StorageSize from 'components/StorageSize';\n\nimport actions from 'core/redux/actions';\n\nclass History extends Component {\n  componentDidMount () {\n    this.props.load();\n  }\n\n  render () {\n    const { history } = this.props;\n\n    return (\n      <>\n        <StorageSize size={history.size} />\n        <Report data={history.data}/>\n      </>\n    );\n  }\n}\n\nexport default compose(\n  connect(\n    state => ({\n      history: state.history,\n    }),\n    dispatch => ({\n      load: () => dispatch(actions.history.load()),\n    }),\n  ),\n)(History);\n","import React, { Component } from 'react';\nimport { withRouter, Switch, Route, Redirect } from 'react-router-dom';\nimport RestaurantMenuIcon from '@material-ui/icons/RestaurantMenu';\nimport HistoryIcon from '@material-ui/icons/History';\n\nimport AppBar from '@material-ui/core/AppBar';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport Divider from '@material-ui/core/Divider';\nimport Drawer from '@material-ui/core/Drawer';\nimport Hidden from '@material-ui/core/Hidden';\nimport List from '@material-ui/core/List';\nimport ListItem from '@material-ui/core/ListItem';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport { withStyles } from '@material-ui/core/styles';\n\nimport Order from './Order';\nimport History from './History';\n\nconst drawerWidth = 240;\n\nconst styles = (theme) => ({\n  root: {\n    display: 'flex',\n  },\n  drawer: {\n    [theme.breakpoints.up('sm')]: {\n      width: drawerWidth,\n      flexShrink: 0,\n    },\n  },\n  appBar: {\n    [theme.breakpoints.up('sm')]: {\n      width: `calc(100% - ${drawerWidth}px)`,\n      marginLeft: drawerWidth,\n    },\n  },\n  menuButton: {\n    marginRight: theme.spacing(2),\n    [theme.breakpoints.up('sm')]: {\n      display: 'none',\n    },\n  },\n  toolbar: theme.mixins.toolbar,\n  drawerPaper: {\n    width: drawerWidth,\n  },\n  content: {\n    flexGrow: 1,\n    padding: theme.spacing(3),\n  },\n});\n\nclass App extends Component {\n  render () {\n    const { container, classes, history } = this.props;\n\n    const drawer = (\n      <div>\n        <div className={classes.toolbar} />\n        <Divider />\n        <List>\n          { [\n            {\n              name: 'order',\n              icon: () => <RestaurantMenuIcon />,\n            },\n            {\n              name: 'history',\n              icon: () => <HistoryIcon />,\n            },\n          ].map((v, index) => (\n            <ListItem\n              key={v.name}\n              button\n              onClick={() => { history.replace(`/${v.name}`); }}\n            >\n              <ListItemIcon>{v.icon()}</ListItemIcon>\n              <ListItemText primary={ v.name } />\n            </ListItem>\n          ))\n          }\n        </List>\n        <Divider />\n      </div>\n    );\n\n    const needRedirect = this.props.match.path === this.props.location.pathname;\n\n    return (\n      <>\n        <div className={classes.root}>\n          <CssBaseline />\n          <AppBar position=\"fixed\" className={classes.appBar}>\n            <Toolbar>\n              <Typography variant=\"h6\" noWrap>水食</Typography>\n            </Toolbar>\n          </AppBar>\n          <nav className={classes.drawer} aria-label=\"mailbox folders\">\n            {/* The implementation can be swapped with js to avoid SEO duplication of links. */}\n            <Hidden smUp implementation=\"css\">\n              <Drawer\n                container={container}\n                variant=\"temporary\"\n                anchor=\"left\"\n                classes={{\n                  paper: classes.drawerPaper,\n                }}\n                ModalProps={{\n                  keepMounted: true, // Better open performance on mobile.\n                }}\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n            <Hidden xsDown implementation=\"css\">\n              <Drawer\n                classes={{\n                  paper: classes.drawerPaper,\n                }}\n                variant=\"permanent\"\n                open\n              >\n                {drawer}\n              </Drawer>\n            </Hidden>\n          </nav>\n          <main className={classes.content}>\n            <div className={classes.toolbar} />\n            <Switch>\n              { needRedirect && <Redirect from=\"/\" to='/order' /> }\n              <Route path=\"/order\" render={props => <Order {...props} />} />\n              <Route path=\"/history\" render={props => <History {...props} />} />\n            </Switch>\n          </main>\n        </div>\n      </>\n    );\n  }\n}\n\nexport default withRouter(withStyles(styles)(App));\n","export const findLocalItems = query => {\n  const results = [];\n  let i = [];\n  for (i in localStorage) {\n    if (Object.prototype.hasOwnProperty.call(localStorage, i)) {\n      if (i.match(query) || (!query && typeof i === 'string')) {\n        const value = JSON.parse(localStorage.getItem(i));\n        const date = i.substring(6);\n\n        results.push({\n          timestamp: new Date(date).getTime(),\n          date: date,\n          list: value,\n        });\n      }\n    }\n  }\n\n  return results;\n};\n\nexport const localStorageSpace = () => {\n  var allStrings = '';\n  for (var key in window.localStorage) {\n    if (Object.prototype.hasOwnProperty.call(window.localStorage, key)) {\n      allStrings += window.localStorage[key];\n    }\n  }\n  return allStrings ? 3 + ((allStrings.length * 16) / (8 * 1024)) + ' KB' : 'Empty (0 KB)';\n};\n\nexport const sortDate = arr => {\n  const length = arr.length;\n\n  for (let i = 0; i < length; i++) {\n    let min = arr[i].timestamp;\n    let minIndex = i;\n\n    for (let j = i; j < length; j++) {\n      if (arr[j].timestamp < min) {\n        min = arr[j].timestamp;\n        minIndex = j;\n      }\n    }\n\n    [arr[minIndex], arr[i]] = [arr[i], arr[minIndex]];\n  }\n\n  return arr;\n};\n","import 'whatwg-fetch';\nimport { findLocalItems, localStorageSpace, sortDate } from './helper';\n\nexport const add = payload => {\n  console.log('payload', payload);\n};\n\nexport const load = () => ({\n  data: sortDate(findLocalItems('cache_*')),\n  size: localStorageSpace(),\n});\n","import * as ajaxApi from './ajax';\n\nexport default {\n  ...ajaxApi,\n};\n","import { all, put, takeLatest } from 'redux-saga/effects';\n\nimport consts from 'core/redux/actions/consts';\nimport services from 'core/services';\n\nfunction * add (action) {\n  yield services.add(action);\n}\n\nfunction * load (action) {\n  const res = yield services.load();\n  yield put({ type: consts.history.update, res });\n}\n\nexport default function * rootSaga () {\n  yield all([\n    takeLatest(consts.item.add, add),\n    takeLatest(consts.history.load, load),\n  ]);\n}\n","import consts from 'core/redux/actions/consts';\nimport { assign } from 'lodash';\n\nconst defaultState = {\n  h: 'abc',\n};\n\nconst item = (state = defaultState, action) => {\n  switch (action.type) {\n    case consts.item.increase:\n      return assign({}, state, {});\n\n    case consts.item.decrease:\n      return assign({}, state, {});\n\n    default:\n      return state;\n  }\n};\n\nexport default item;\n","import consts from 'core/redux/actions/consts';\n\nconst defaultState = {\n  data: [],\n  size: '',\n};\n\nconst history = (state = defaultState, action) => {\n  switch (action.type) {\n    case consts.history.update:\n      return { ...state, ...action.res };\n    default:\n      return state;\n  }\n};\n\nexport default history;\n","import { combineReducers } from 'redux';\nimport item from './item';\nimport history from './history';\n\nconst reducers = combineReducers({\n  item,\n  history,\n});\n\nexport default reducers;\n","import { createStore, applyMiddleware } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\n\nimport rootSaga from './sagas';\nimport reducers from 'core/redux/reducers';\n\n// redux-saga middleware\nconst sagaMiddleware = createSagaMiddleware();\n\nconst store = createStore(\n  reducers,\n  applyMiddleware(sagaMiddleware),\n);\n\n// run saga\nsagaMiddleware.run(rootSaga);\n\nexport default store;\n","import React from 'react';\nimport { render } from 'react-dom';\nimport { HashRouter } from 'react-router-dom';\nimport { Provider } from 'react-redux';\n\nimport './index.css';\nimport App from 'containers/App';\n\nimport storageStore from 'core/redux/store';\n\nrender(\n  <HashRouter>\n    <Provider store={storageStore}>\n      <App />\n    </Provider>\n  </HashRouter>\n  , document.getElementById('root'));\n"],"sourceRoot":""}