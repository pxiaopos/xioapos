(window.webpackJsonpxiaopos=window.webpackJsonpxiaopos||[]).push([[0],{80:function(e,t,a){e.exports=a(98)},90:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"add",function(){return V});var r={};a.r(r),a.d(r,"load",function(){return Z});var c={};a.r(c),a.d(c,"add",function(){return Ce}),a.d(c,"load",function(){return ze});var o=a(0),i=a.n(o),l=a(10),u=a(60),m=a(35),s=(a(90),a(31)),p=a(32),d=a(37),f=a(33),b=a(38),h=a(27),E=a(28),O=a(73),v=a.n(O),y=a(74),g=a.n(y),j=a(156),w=a(155),k=a(151),x=a(158),S=a(159),P=a(152),N=a(160),D=a(154),C=a(153),z=a(157),_=a(56),I=a(7),B=a(50),T=a(13),A=a(145),J=a(69),M=a(100);function R(){var e=new Date,t=e.getDate(),a=e.getMonth()+1;return e.getFullYear()+"/"+a+"/"+t}var F=Object(J.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function U(e){var t=F();return i.a.createElement(M.a,{className:t.root},i.a.createElement(_.a,{variant:"h5",component:"h3"},"\u4eca\u65e5\u5c0f\u8a18\uff08",R(),"\uff09"),i.a.createElement(_.a,{component:"p",color:"textSecondary"},"\u7e3d\u91d1\u984d\uff1a",e.sum," \u5143"))}var W=a(142),Y=a(143),H=a(144),K=a(72),L=a.n(K),$=a(71),G=a.n($),X=Object(J.a)(function(e){return{root:{display:"flex",flex:1,padding:e.spacing(3,2),margin:10,width:450,maxWidth:480},details:{display:"flex",flexDirection:"row",width:300},content:{flex:"1 0 auto"},cover:{width:150}}});function q(e){var t=e.count,a=e.num,n=e.v,r=n.id,c=n.item,o=n.price,l=X();return i.a.createElement(M.a,{className:l.root},i.a.createElement("div",{className:l.details},i.a.createElement(W.a,{className:l.content},i.a.createElement(_.a,{variant:"h5",component:"h3"},c),i.a.createElement(_.a,{component:"p"},"\u91d1\u984d ",o," \u5143 - \u5df2\u552e\u51fa ",a||0," \u4efd"))),i.a.createElement("div",{className:l.cover},i.a.createElement(Y.a,{className:l.content},i.a.createElement(H.a,{elevation:0,fontSize:"small","aria-label":"remove",onClick:function(e){return t(r,-1,-o)}},i.a.createElement(G.a,null)),i.a.createElement(H.a,{fontSize:"small","aria-label":"add",onClick:function(e){return t(r,1,o)}},i.a.createElement(L.a,null)))))}var Q={item:{add:"ADD_ITEM"},history:{load:"LOAD_HISTORY",update:"UPDATE_HISTORY"}},V=function(e){return{type:Q.item.add,payload:e}},Z=function(){return{type:Q.history.load}},ee={item:n,history:r},te=[{id:1,item:"\u6c34\u98df\u852c\u9910\u76d2\uff08\u7d20\uff09",price:65},{id:2,item:"\u59d1\u59d1\u9bae\u852c\u9910\uff08\u7d20\uff09",price:80},{id:3,item:"\u8ff7\u8fed\u9999\u5ae9\u96de\u80f8",price:90},{id:4,item:"\u9ed1\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:90},{id:5,item:"\u6e05\u9999\u6ef7\u96de\u817f",price:95},{id:6,item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:100},{id:7,item:"\u85e5\u81b3\u71c9\u96de\u817f",price:105},{id:8,item:"\u5bb6\u9109\u6ef7\u725b\u8171",price:120},{id:9,item:"\u7fa9\u5f0f\u70e4\u96de\u817f\u6392",price:120},{id:10,item:"\u79d8\u88fd\u9e79\u8c6c\u8089",price:110},{id:11,item:"\u97d3\u5f0f\u8fa3\u96de",price:120}],ae=[{id:12,item:"\u8ff7\u8fed\u9999\u96de\u80f8",price:45},{id:13,item:"\u9ebb\u6cb9\u8c6c\u91cc\u808c",price:45},{id:14,item:"\u6ef7\u96de\u817f",price:45},{id:15,item:"\u9999\u6ab8\u7f85\u52d2\u96d5",price:50},{id:16,item:"\u85e5\u81b3\u96de\u817f",price:50},{id:17,item:"\u6ef7\u725b\u8171",price:60},{id:18,item:"\u6c34\u716e\u86cb",price:10},{id:19,item:"\u5341\u7a40\u7c73",price:15},{id:20,item:"\u852c\u83dc",price:45}],ne="cache_"+R(),re=function(e,t){return e+t},ce=function(e,t,a){var n=Object.assign({},e);return n[t]||(n[t]=0),n[t]=n[t]+a,n},oe=function(e){function t(e){var a;if(Object(s.a)(this,t),(a=Object(d.a)(this,Object(f.a)(t).call(this,e))).Count=function(e,t,n){var r=a.state,c=r.counter,o=r.sum,i=0===o,l=n<0,u=-1===t,m=c&&(0===c[e]||void 0===c[e]);i&&l||u&&m||a.setState({counter:ce(c,e,t),sum:re(o,n)})},a.state={counter:{},sum:0},Object.prototype.hasOwnProperty.call(localStorage,ne)){var n=localStorage.getItem(ne);a.state=JSON.parse(n)}return a.Count=a.Count.bind(Object(B.a)(a)),a}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidUpdate",value:function(e,t){this.state!==t&&localStorage.setItem(ne,JSON.stringify(this.state))}},{key:"render",value:function(){var e=this,t=this.state,a=t.counter,n=t.sum;return i.a.createElement("div",null,i.a.createElement(U,{sum:n}),i.a.createElement(A.a,{container:!0},i.a.createElement("h1",null,"\u9910\u76d2"),i.a.createElement(A.a,{container:!0,item:!0,spacing:3},te.map(function(t,n){return i.a.createElement(q,{key:n,count:e.Count,v:t,num:a[t.id]})})),i.a.createElement("h1",null,"\u55ae\u9ede"),i.a.createElement(A.a,{container:!0,item:!0,spacing:3},ae.map(function(t,n){return i.a.createElement(q,{key:n,count:e.Count,v:t,num:a[t.id]})}))))}}]),t}(o.PureComponent),ie=Object(T.d)(Object(m.b)(function(e){return{item:e.item}},function(e){return{add:function(t){return e(ee.item.add(t))}}}))(oe),le=a(148),ue=a(150),me=a(146),se=a(149),pe=a(147);var de=Object(I.a)(function(e){return{head:{textAlign:"center",backgroundColor:e.palette.primary.light,color:e.palette.common.white,borderRight:"1px solid #c5cae9"},body:{fontSize:14,textAlign:"center"}}})(me.a),fe=Object(I.a)(function(e){return{root:{"&:nth-of-type(odd)":{backgroundColor:e.palette.background.default}}}})(pe.a),be=Object(J.a)(function(e){return{root:{width:"100%",marginTop:e.spacing(3),overflowX:"auto"},table:{minWidth:700},zero:{color:"#bdbdbd"}}});function he(e){var t=be();return i.a.createElement(M.a,{className:t.root},i.a.createElement(le.a,{className:t.table},i.a.createElement(se.a,null,i.a.createElement(pe.a,null,i.a.createElement(de,null),i.a.createElement(de,{colSpan:te.length},"\u9910\u76d2"),i.a.createElement(de,{colSpan:ae.length},"\u55ae\u9ede"),i.a.createElement(de,null))),i.a.createElement(se.a,null,i.a.createElement(pe.a,null,i.a.createElement(de,null,"\u65e5\u671f"),te.map(function(e){return i.a.createElement(de,{key:e.id,align:"right"},e.item)}),ae.map(function(e){return i.a.createElement(de,{key:e.id,align:"right"},e.item)}),i.a.createElement(de,null,"\u7e3d\u91d1\u984d"))),i.a.createElement(ue.a,null,e.data.map(function(e,a){return i.a.createElement(fe,{key:"".concat(e.data,"_").concat(a)},i.a.createElement(de,null,i.a.createElement("span",null,e.date)),te.map(function(a){return i.a.createElement(de,{key:"".concat(e.date,"_").concat(a.id)},e.list.counter[a.id]?i.a.createElement("span",null,e.list.counter[a.id]):i.a.createElement("span",{className:t.zero},"0"))}),ae.map(function(a){return i.a.createElement(de,{key:"".concat(e.date,"_").concat(a.id)},e.list.counter[a.id]?i.a.createElement("span",null,e.list.counter[a.id]):i.a.createElement("span",{className:t.zero},"0"))}),i.a.createElement(de,null,i.a.createElement("span",null,function(e){for(var t=e.toString(),a=/(-?\d+)(\d{3})/;a.test(t);)t=t.replace(a,"$1,$2");return t}(e.list.sum))))}))))}var Ee=Object(J.a)(function(e){return{root:{padding:e.spacing(3,2)}}});function Oe(e){var t=Ee();return i.a.createElement(M.a,{className:t.root},i.a.createElement(_.a,{variant:"h5",component:"h3"},"\u5132\u5b58\u7a7a\u9593"),i.a.createElement(_.a,{component:"p",color:"textSecondary"},"Size: ",e.size))}var ve=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"componentDidMount",value:function(){this.props.load()}},{key:"render",value:function(){var e=this.props.history;return i.a.createElement(i.a.Fragment,null,i.a.createElement(Oe,{size:e.size}),i.a.createElement(he,{data:e.data}))}}]),t}(o.Component),ye=Object(T.d)(Object(m.b)(function(e){return{history:e.history}},function(e){return{load:function(){return e(ee.history.load())}}}))(ve),ge=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(f.a)(t).apply(this,arguments))}return Object(b.a)(t,e),Object(p.a)(t,[{key:"render",value:function(){var e=this.props,t=e.container,a=e.classes,n=e.history,r=i.a.createElement("div",null,i.a.createElement("div",{className:a.toolbar}),i.a.createElement(k.a,null),i.a.createElement(P.a,null,[{name:"order",icon:function(){return i.a.createElement(v.a,null)}},{name:"history",icon:function(){return i.a.createElement(g.a,null)}}].map(function(e,t){return i.a.createElement(N.a,{key:e.name,button:!0,onClick:function(){n.replace("/".concat(e.name))}},i.a.createElement(C.a,null,e.icon()),i.a.createElement(D.a,{primary:e.name}))})),i.a.createElement(k.a,null)),c=this.props.match.path===this.props.location.pathname;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:a.root},i.a.createElement(w.a,null),i.a.createElement(j.a,{position:"fixed",className:a.appBar},i.a.createElement(z.a,null,i.a.createElement(_.a,{variant:"h6",noWrap:!0},"\u6c34\u98df"))),i.a.createElement("nav",{className:a.drawer,"aria-label":"mailbox folders"},i.a.createElement(S.a,{smUp:!0,implementation:"css"},i.a.createElement(x.a,{container:t,variant:"temporary",anchor:"left",classes:{paper:a.drawerPaper},ModalProps:{keepMounted:!0}},r)),i.a.createElement(S.a,{xsDown:!0,implementation:"css"},i.a.createElement(x.a,{classes:{paper:a.drawerPaper},variant:"permanent",open:!0},r))),i.a.createElement("main",{className:a.content},i.a.createElement("div",{className:a.toolbar}),i.a.createElement(E.d,null,c&&i.a.createElement(E.a,{from:"/",to:"/order"}),i.a.createElement(E.b,{path:"/order",render:function(e){return i.a.createElement(ie,e)}}),i.a.createElement(E.b,{path:"/history",render:function(e){return i.a.createElement(ye,e)}})))))}}]),t}(o.Component),je=Object(E.g)(Object(I.a)(function(e){return{root:{display:"flex"},drawer:Object(h.a)({},e.breakpoints.up("sm"),{width:240,flexShrink:0}),appBar:Object(h.a)({},e.breakpoints.up("sm"),{width:"calc(100% - ".concat(240,"px)"),marginLeft:240}),menuButton:Object(h.a)({marginRight:e.spacing(2)},e.breakpoints.up("sm"),{display:"none"}),toolbar:e.mixins.toolbar,drawerPaper:{width:240},content:{flexGrow:1,padding:e.spacing(3)}}})(ge)),we=a(77),ke=a(30),xe=a.n(ke),Se=a(45),Pe=(a(96),function(e){var t=[],a=[];for(a in localStorage)if(Object.prototype.hasOwnProperty.call(localStorage,a)&&(a.match(e)||!e&&"string"===typeof a)){var n=JSON.parse(localStorage.getItem(a)),r=a.substring(6);t.push({timestamp:new Date(r).getTime(),date:r,list:n})}return t}),Ne=function(){var e="";for(var t in window.localStorage)Object.prototype.hasOwnProperty.call(window.localStorage,t)&&(e+=window.localStorage[t]);return e?3+16*e.length/8192+" KB":"Empty (0 KB)"},De=function(e){for(var t=e.length,a=0;a<t;a++){for(var n=e[a].timestamp,r=a,c=a;c<t;c++)e[c].timestamp<n&&(n=e[c].timestamp,r=c);var o=[e[a],e[r]];e[r]=o[0],e[a]=o[1]}return e},Ce=function(e){console.log("payload",e)},ze=function(){return{data:De(Pe("cache_*")),size:Ne()}};function _e(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}var Ie=function(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?_e(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):_e(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}({},c),Be=xe.a.mark(Je),Te=xe.a.mark(Me),Ae=xe.a.mark(Re);function Je(e){return xe.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Ie.add(e);case 2:case"end":return t.stop()}},Be)}function Me(e){var t;return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Ie.load();case 2:return t=e.sent,e.next=5,Object(Se.b)({type:Q.history.update,res:t});case 5:case"end":return e.stop()}},Te)}function Re(){return xe.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(Se.a)([Object(Se.c)(Q.item.add,Je),Object(Se.c)(Q.history.load,Me)]);case 2:case"end":return e.stop()}},Ae)}var Fe=a(64),Ue={h:"abc"},We=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ue,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.item.increase:case Q.item.decrease:return Object(Fe.assign)({},e,{});default:return e}};function Ye(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,n)}return a}function He(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?Ye(a,!0).forEach(function(t){Object(h.a)(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):Ye(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}var Ke={data:[],size:""},Le=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ke,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Q.history.update:return He({},e,{},t.res);default:return e}},$e=Object(T.c)({item:We,history:Le}),Ge=Object(we.a)(),Xe=Object(T.e)($e,Object(T.a)(Ge));Ge.run(Re);var qe=Xe;Object(l.render)(i.a.createElement(u.a,null,i.a.createElement(m.a,{store:qe},i.a.createElement(je,null))),document.getElementById("root"))}},[[80,1,2]]]);
//# sourceMappingURL=main.4edb53a2.chunk.js.map